<!DOCTYPE html>
<html>
<head>
  <title>Icon Generator</title>
</head>
<body>
  <h2>Icon Generator for Gmail Bulk Deleter</h2>
  <p>Click the buttons below to download the icons:</p>
  <button onclick="generateIcon(16)">Download 16x16 Icon</button>
  <button onclick="generateIcon(48)">Download 48x48 Icon</button>
  <button onclick="generateIcon(128)">Download 128x128 Icon</button>

  <script>
    function generateIcon(size) {
      const canvas = document.createElement('canvas');
      canvas.width = size;
      canvas.height = size;
      const ctx = canvas.getContext('2d');

      // Background
      ctx.fillStyle = '#d93025';
      ctx.roundRect(0, 0, size, size, size * 0.15);
      ctx.fill();

      // Draw trash can
      const scale = size / 16;
      ctx.fillStyle = 'white';
      ctx.strokeStyle = 'white';
      ctx.lineWidth = scale;

      // Top bar
      ctx.fillRect(5 * scale, 3 * scale, 6 * scale, 1 * scale);

      // Can body
      ctx.strokeRect(4 * scale, 4 * scale, 8 * scale, 9 * scale);

      // Vertical lines
      ctx.beginPath();
      ctx.moveTo(6 * scale, 6 * scale);
      ctx.lineTo(6 * scale, 11 * scale);
      ctx.moveTo(8 * scale, 6 * scale);
      ctx.lineTo(8 * scale, 11 * scale);
      ctx.moveTo(10 * scale, 6 * scale);
      ctx.lineTo(10 * scale, 11 * scale);
      ctx.stroke();

      // Download
      canvas.toBlob(blob => {
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `icon${size}.png`;
        a.click();
        URL.revokeObjectURL(url);
      });
    }

    // Polyfill for roundRect if needed
    if (!CanvasRenderingContext2D.prototype.roundRect) {
      CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius) {
        this.beginPath();
        this.moveTo(x + radius, y);
        this.lineTo(x + width - radius, y);
        this.quadraticCurveTo(x + width, y, x + width, y + radius);
        this.lineTo(x + width, y + height - radius);
        this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
        this.lineTo(x + radius, y + height);
        this.quadraticCurveTo(x, y + height, x, y + height - radius);
        this.lineTo(x, y + radius);
        this.quadraticCurveTo(x, y, x + radius, y);
        this.closePath();
      };
    }
  </script>
</body>
</html>
